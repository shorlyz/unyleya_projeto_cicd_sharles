- name: Provisionamento de Infraestrutura MobEAD
  hosts: localhost
  tasks:
    - name: Criar Grupo de Recursos Azure
      azure_rm_resourcegroup:
        name: rg-unyleya-final
        location: eastus

    - name: Criar Plano de Servi√ßo (Windows para Container)
      azure_rm_appserviceplan:
        resource_group: rg-unyleya-final
        name: plan-mobead-windows
        sku: P1v2
        is_linux: false

    - name: Criar Web App e Configurar Docker
      azure_rm_webapp:
        resource_group: rg-unyleya-final
        name: app-mobead-final-01
        plan: plan-mobead-windows
        container_settings:
          name: "shorlyz/unyleya-projeto"
          tag: "latest"
